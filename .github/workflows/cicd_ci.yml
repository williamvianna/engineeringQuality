name: üîÅ CI - Experimentos de CI/CD (GHA Validation)

on:
  push:
    branches: [ main ]
    paths:
      # Roda a pipeline somente se houver mudan√ßas na pasta 'cicd' ou no pr√≥prio workflow
      - 'cicd/**'
      - '.github/workflows/cicd_ci.yml'

jobs:
  validate_and_run_smoke:
    runs-on: ubuntu-latest
    steps:
      - name: ‚¨áÔ∏è Checkout do C√≥digo
        uses: actions/checkout@v4

      - name: üîç Valida√ß√£o da Sintaxe YAML dos Workflows
        # Esta step garante que todos os arquivos .yml de CI/CD estejam sintaticamente corretos.
        run: |
          echo "Verificando sintaxe YAML nos workflows..."
          # Instala uma ferramenta de valida√ß√£o YAML
          pip install yamllint
          yamllint .github/workflows/*.yml

      - name: üèÉ Rodar Smoke Test Gen√©rico (Exemplo Shell Script)
        # Demonstra um script simples de valida√ß√£o ou build que poderia estar na pasta cicd
        run: |
          echo "CI/CD Smoke Test Iniciado..."
          ls -F
          echo "Construindo/Validando artefato de CI/CD..."
          # Adicione aqui qualquer comando de build/valida√ß√£o que fa√ßa sentido para sua pasta 'cicd'
          echo "CI/CD Smoke Test Conclu√≠do com Sucesso."
        working-directory: cicd